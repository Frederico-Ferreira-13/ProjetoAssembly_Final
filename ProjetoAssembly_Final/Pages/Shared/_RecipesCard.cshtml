@model Core.Model.Recipes
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<ProjetoAssembly_Final.Pages.IndexModel> Localizer

<article class="receitas-card">
    <div class="card-img-container" style="position: relative;">       
         <partial name="_FavoriteButton" model="Model" />      
        
         <a href="/view_recipes/@Model.RecipesId">        
         <img src="~/img/@(string.IsNullOrEmpty(Model.ImageUrl) ? "default.jpg" : Model.ImageUrl)"
              alt="@Model.Title"
              class="card-img"
              onerror="this.onerror=null; this.src='/img/user.icon.png';">
        </a>      
    </div>   

    <div class="card-info">
        <span class="card-popularity">
            <i class="fa-solid fa-heart"></i> @Model.FavoriteCount favoritos
        </span>

        <h3>@Model.Title</h3>

        <div class="recipe-meta">
            @{
                var difClass = Model.DifficultyId == 1 ? "dif-facil" : (Model.DifficultyId == 2 ? "dif-media" : "dif-dificil");
                var difLabel = Model.DifficultyId == 1 ? "Fácil" : (Model.DifficultyId == 2 ? "Média" : "Difícil");
            }
            <span class="badge-dif @difClass">@difLabel</span>

            <span>
                <i class="fa-regular fa-clock"></i>
                @(Model.PrepTimeMinutes + Model.CookTimeMinutes) min
            </span>
        </div>

        <a href="/view_recipes/@Model.RecipesId" class="btn">
            @Localizer["Ver Receita"]
        </a>
    </div>
</article>

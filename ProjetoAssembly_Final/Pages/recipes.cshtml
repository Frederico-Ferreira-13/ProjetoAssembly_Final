@page
@model ProjetoAssembly_Final.Pages.recipesModel
@{
    Layout = "_Layout";
    ViewData["Title"] = "Explorar Receitas";
}

@section Styles {
    <link rel="stylesheet" href="~/css/recipe.css" asp-append-version="true" />
}

@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@Html.AntiForgeryToken()

<div class="container-main">
    <section class="Categorias-home">
        <h2 class="section-title">Explorar Receitas</h2>

        <div class="grid-categorias">
            <a asp-page="/recipes" asp-route-categoryId="1" class="cat-card @(Request.Query["categoryId"] == "1" ? "active" : "")">
                <div class="cat-icon"><i class="fa-solid fa-bowl-food"></i></div>
                <span>Sopas</span>
            </a>
            <a asp-page="/recipes" asp-route-categoryId="2" class="cat-card @(Request.Query["categoryId"] == "2" ? "active" : "")">
                <div class="cat-icon"><i class="fa-solid fa-drumstick-bite"></i></div>
                <span>Carne</span>
            </a>
            <a asp-page="/recipes" asp-route-categoryId="3" class="cat-card @(Request.Query["categoryId"] == "3" ? "active" : "")">
                <div class="cat-icon"><i class="fa-solid fa-fish"></i></div>
                <span>Peixe</span>
            </a>
            <a asp-page="/recipes" asp-route-categoryId="4" class="cat-card @(Request.Query["categoryId"] == "4" ? "active" : "")">
                <div class="cat-icon"><i class="fa-solid fa-cake-candles"></i></div>
                <span>Sobremesas</span>
            </a>
            <a asp-page="/recipes" class="cat-card @(string.IsNullOrEmpty(Request.Query["categoryId"]) ? "active" : "")" style="background-color: #f8f9fa;">
                <div class="cat-icon"><i class="fa-solid fa-list"></i></div>
                <span>Todas</span>
            </a>
        </div>
    </section>

    <hr class="separator">

    <section class="destaques-home">
        <div id="container-receitas" class="grid-receitas">
            @if (Model.ListRecipes != null && Model.ListRecipes.Any())
            {
                @foreach (var receita in Model.ListRecipes)
                {
                    <partial name="_RecipesCard" model="receita"></partial>
                }
            }
            else
            {
                <div class="aviso-vazio" style="grid-column: 1/-1; text-align: center; padding: 50px">
                    <i class="fa-solid fa-magnifying-glass" style="font-size: 3rem; color: #ccc;"></i>
                    <p style="margin-top: 15px;">Ainda não temos receitas nesta categoria.</p>
                    <a asp-page="/recipes" asp-route-categoryId="" class="btn-principal">Ver todas as receitas</a>
                </div>
            }
        </div>
    </section>
</div>

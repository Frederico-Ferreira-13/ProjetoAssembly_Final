@page
@model ProjetoAssembly_Final.Pages.IndexModel
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<ProjetoAssembly_Final.Pages.IndexModel> Localizer
@{
    Layout = "_Layout";
    ViewData["Title"] = Localizer["Início"];
}

@section Styles {
    <link rel="stylesheet" href="~/css/pages/index.css" asp-append-version="true" />
}

<link rel="preload" as="image" href="~/img/hero.jpg">

<header class="hero">
    <div class="hero-content">
        <h1>@Localizer["Descubra o sabor de cozinhar em casa"]</h1>
        <p>@Localizer["As melhores iguarias, desde sopas reconfortantes a sobremesas irresistíveis."]</p>
        <a href="#categorias" class="btn-principal">@Localizer["Explorar Categorias"]</a>
    </div>
</header>

<main class="container">
    <section id="categorias" class="categorias-home">        
        <div class="grid-categorias">
            <a asp-page="/recipes" asp-route-categoryId="1" class="cat-card">
                <div class="cat-icon"><i class="fa-solid fa-bowl-food"></i></div>
                <span>@Localizer["Sopas"]</span>
            </a>
            <a asp-page="/recipes" asp-route-categoryId="2" class="cat-card">
                <div class="cat-icon"><i class="fa-solid fa-drumstick-bite"></i></div>
                <span>@Localizer["Carne"]</span>
            </a>
            <a asp-page="/recipes" asp-route-categoryId="3" class="cat-card">
                <div class="cat-icon"><i class="fa-solid fa-fish"></i></div>
                <span>@Localizer["Peixe"]</span>
            </a>
            <a asp-page="/recipes" asp-route-categoryId="4" class="cat-card">
                <div class="cat-icon"><i class="fa-solid fa-cake-candles"></i></div>
                <span>@Localizer["Sobremesas"]</span>
            </a>
        </div>
    </section>

    <section class="slider-container">
        <h2 class="section-title">@Localizer["Destaques da Semana"]</h2>
        <div class="slideshow-wrapper">
            <div class="mySlides fade">
                <img src="img/bacalhau.jpg" alt="Bacalhau à Brás">
                <div class="slide-badge">Tradicional</div>
                <div class="slide-text-overlay">Bacalhau à Brás</div>
            </div>
            <div class="mySlides fade">
                <img src="img/sopa.jpg" alt="Sopa de Legumes">
                <div class="slide-badge">Saudável</div>
                <div class="slide-text-overlay">Sopa de Legumes - Saudável e Caseira</div>
            </div>
            <div class="mySlides fade">
                <img src="img/arroz-de-pato.jpg" alt="Arroz de Pato">
                <div class="slide-badge">Saudável</div>
                <div class="slide-text-overlay"> Arroz de Pato</div>
            </div>
            <div class="mySlides fade">
                <img src="img/arroz-doce.jpg" alt="Arroz Doce">
                <div class="slide-badge">Saudável</div>
                <div class="slide-text"> Arroz Doce</div>
            </div>

            <button class="prev" onclick="plusDivs(-1)">&#10094;</button>
            <button class="next" onclick="plusDivs(1)">&#10095;</button>
        </div>
    </section>

    <section class="destaques-home">
        <h2 class="section-title">@Localizer["Receitas Recentes"]</h2>
        <div id="container-receitas" class="grid-receitas">
            @if (Model.ListaReceitas != null)
            {
                @foreach (var receita in Model.ListaReceitas.Take(4))
                {
                    <article class="receitas-card">
                        <div class="card-image-wrapper">
                            <img src="/img/@(string.IsNullOrEmpty(receita.ImageUrl) ? "default.jpg" : receita.ImageUrl)" alt="@receita.Title">
                        </div>                        
                        <div class="card-info">
                            <h3>@receita.Title</h3>
                            <div class="card-meta">
                                <span><i class="fa-solid fa-gauge"></i> @(receita.DifficultyId == 1 ? Localizer["Fácil"] : Localizer["Média"])</span>
                                <span><i class="fa-solid fa-clock"></i> @((receita.PrepTimeMinutes) + (receita.CookTimeMinutes)) min</span>
                            </div>                            
                            <a asp-page="/view_recipes" asp-route-id="@receita.RecipesId" class="btn">Ver Receita</a>
                        </div>
                    </article>
                }
            }
        </div>
    </section>
</main>
